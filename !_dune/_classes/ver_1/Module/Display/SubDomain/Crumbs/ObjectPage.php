<?php

class Module_Display_SubDomain_Crumbs_ObjectPage extends Dune_Include_Abstract_Code
{

    protected function code()
    {
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
$object = $this->object;

$crumbs = Dune_Display_BreadCrumb::getInstance();
$crumbs->addCrumb('Главная', '/');

if ($object->group > 1)
    $crumbs->addCrumb($object->complex_name, '/complex/' . $object->group . '/');

if ($object->sub_house_id)
{
    $crumbs->addCrumb($object->house_sub_name, '/house/' . $object->sub_house_id . '/');
    $crumbs->addCrumb('Шахматка', '/house/' . $object->sub_house_id . '/grid/' . $object->code_type . '/');
}    

    switch ($object->type)
    {
        case 1:
            $name = 'Квартира';
        break;
        case 4:
            $name = 'Объект коммерческой недвижимости';
        break;
        case 5:
            $name = 'Кладовое помещение';
        break;
       
        default:
            $name = 'Объект';
    }

    $crumbs->addCrumb($name);

    
echo $crumbs;




/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
    }
    
}
    
    