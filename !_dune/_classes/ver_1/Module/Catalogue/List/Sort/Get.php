<?php

class Module_Catalogue_List_Sort_Get extends Dune_Include_Abstract_Code
{

    protected function code()
    {
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        

     
     $session = Dune_Session::getInstance('catalogue_list_order');
     $field = $session->field;
     $order = $session->order;
     $session->closeZone();

     if ($order != 'DESC')
        $order = '';

     if ($field == 'price')
        $field = 'price';
     else if ($field == 'space')
        $field = 'space_total';
     else 
        $field = false;

        
     $this->setResult('order', $order)
          ->setResult('field', $field);

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
    }
    
}
    
    