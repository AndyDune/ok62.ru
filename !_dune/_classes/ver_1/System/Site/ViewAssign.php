<?php

class System_Site_ViewAssign extends Dune_Include_Abstract_Code
{

    protected function code()
    {
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        

//    $this->view->system_user_status = Dune_Variables::$userStatus;

    $this->view->assignOne('view_folder', Dune_Variables::$pathToViewFolder);
    
    if (Dune_Static_Message::$code)
        $this->view->assignOne('message_code', Dune_Static_Message::$code);
    else 
    {
        $session = Dune_Session::getInstance();    
        $this->view->assignOne('message_code', $session->message_code);    
        unset($session->message_code);
    }
    
    $this->view->assign('domain', Dune_Parameters::$siteDomain);
    
    $this->view->assignOne('system_user_status', Dune_Variables::$userStatus);
    
    $this->view->assignOne('internal_referer', Dune_Parameters::$pageInternalReferer);

//      $view->internal_referer = Dune_Parameters::$pageInternalReferer;    
//    $this->view->view_folder = Dune_Variables::$pathToViewFolder;    
//    $this->view->message_code = Dune_Static_Message::$code;    
//    $this->view->system_user_status = Dune_Variables::$userStatus;
    
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////        
    }
    
}